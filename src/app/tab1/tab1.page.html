<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Yolculuk ara</ion-title>
    </ion-toolbar>
  </ion-header>
  <div class="address-input m-top-30" (click)="findPlace(true)"> {{from!=''?from.name:'Kalkış yeri'}} </div>
  <div class="address-input" (click)="findPlace(false)"> {{to!=''?to.name:'Varış yeri'}} </div>
  <div class="date-passenger">
    <span>
     <input type="date" [(ngModel)]="todaysDate">
    </span>
    <span (click)="countPassenger()">
      {{countPsgnr}} yolcu
    </span>
  </div>
  <div class="wrapper" *ngFor="let item of posts">
    <div class="container" [routerLink]="['/choose',item.id]">
        <div class="container-header">
          <div class="container-header-time">
            <span>{{item.date}}</span>
            <span>{{item.time}}</span>
          </div>
          <div class="container-header-place">
            <span>{{item.from_city_name}} <br> <span class="passenger-count">{{item.totalCountPsgnr}} yolcu</span> </span>
            <span>{{item.to_city_name}}</span>
            <span class="price">{{item?.price}} TL</span>
          </div>
        </div>
        <div class="container-footer">
          <ion-item>
              <ion-avatar slot="start">
                  <img src="{{item?.userData?.imageUrl?item?.userData?.imageUrl:'https://cdn.blablacar.com/comuto3/images/avatar/pixar/passenger-f-02.svg'}} " />
              </ion-avatar>
              <ion-label>
                  <h3>{{item?.userData?.body?.name}} {{item?.userData?.body?.surname}}</h3>
                  <p>{{item?.userData?.body?.email}}</p>
              </ion-label>
          </ion-item>
        </div>
      </div>
  </div>
  <div class="btn" >
    <button [disabled]="!todaysDate || !from || !to || !countPsgnr" (click)="search()" color="danger">Ara</button>
  </div>
</ion-content>